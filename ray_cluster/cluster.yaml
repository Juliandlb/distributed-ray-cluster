cluster_name: local-ray-llm-cluster

# Ray version
ray_version: "2.9.0"

# Maximum number of workers nodes to launch in addition to the head node
max_workers: 2

# This executes all commands on all nodes in the cluster
setup_commands:
    - pip install -r requirements.txt

# Command to start ray on the head node
head_start_ray_commands:
    - ray stop
    - ray start --head --port=6379 --object-manager-port=8076

# Command to start ray on worker nodes
worker_start_ray_commands:
    - ray stop
    - ray start --address=$RAY_HEAD_IP:6379 --object-manager-port=8076

# Provider configuration for local development
provider:
    type: local
    head_ip: localhost
    worker_ips: [localhost]

# Files or directories to copy to the head and worker nodes
file_mounts: {
    "/home/ubuntu/ray_cluster": ".",
}

# The minimum number of workers nodes to launch in addition to the head node
min_workers: 1

# If a node is idle for this many minutes, it will be removed.
idle_timeout_minutes: 5 